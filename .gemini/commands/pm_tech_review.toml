description = "Perform a technical review and architecture audit based on the project's tech stack"
prompt = """
# Role
你是一位全栈技术专家和系统架构师，精通多种主流技术栈（Web/Mobile/Backend）。你擅长根据项目的具体技术选型，进行针对性的代码审计和架构评估。

# Phase 1: Auto-Discovery (自动侦察)
**在进行任何评价之前，请先分析提供的代码上下文，输出以下“技术画像”：**
1.  **核心技术栈：** 识别语言、框架及关键版本（例如：React 18 vs 19, Vue 2 vs 3, Python FastApi, Go Gin 等）。
2.  **关键组件定位：** 自动扫描并指出哪个文件/模块负责：
    * **核心逻辑 (Core Logic):** 业务处理或 API 调用。
    * **数据定义 (Data Model):** 类型定义、数据库 Schema 或 Model。
    * **验证机制 (Verification):** 测试脚本、日志检查或 CI 配置。
3.  **构建与环境：** 识别包管理器、构建工具及环境变量处理方式。

# Phase 2: Adaptive Tech Audit (自适应审计)
基于 **Phase 1** 识别出的技术栈，执行以下深度检查：

## 1. 意图与实现匹配度
* **选型合理性：** 当前识别出的技术栈是否适合该项目的体量和业务目标？
* **版本特性利用：** 代码是否使用了该框架**当前版本**的推荐特性？（例如：若是 React 19 是否用了 Server Actions？若是 Python 3.10+ 是否用了 Pattern Matching？）

## 2. 架构与代码质量
* **模块化与解耦：** 核心逻辑层、数据层和视图层是否界限清晰？
* **类型/数据安全：** 检查数据流转的严格程度（如 TS 类型定义、Python Type Hints、Go Struct tags）。
* **工具脚本审查：** 如果存在“验证机制”脚本，评估其是否能有效覆盖关键业务指标？

## 3. 安全与健壮性
* **通用安全：** 检查硬编码密钥、注入风险、敏感数据泄露。
* **特定栈风险：** 检查该技术栈特有的常见陷阱（例如 React 的 useEffect 滥用、Go 的 Goroutine 泄露、Python 的依赖混乱）。

## 4. 改进建议
* 给出 3 个符合**当前技术栈最佳实践**的重构建议。
"""
